services:
  fitbit-ui-enhanced:
    build: .
    image: fitbit-wellness-enhanced:latest  # Your custom image name
    container_name: fitbit-report-app-enhanced
    ports:
      - "5032:80"
    restart: unless-stopped
    environment:
      - CLIENT_ID=${CLIENT_ID}
      - CLIENT_SECRET=${CLIENT_SECRET}
      - REDIRECT_URL=${REDIRECT_URL:-http://192.168.13.5:5032/}
      - DASHBOARD_PASSWORD=${DASHBOARD_PASSWORD:-}
      - API_KEY=${API_KEY:-}
    volumes:
      # Persist cached data, tokens, and logs across container rebuilds
      - ./data/cache:/app/data/cache
      - ./data/tokens:/app/data/tokens
      - ./logs:/app/logs
